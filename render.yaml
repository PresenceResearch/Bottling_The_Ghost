services:
  - type: web
    name: clara-bot
    env: python
    region: oregon
    plan: free
    buildCommand: pip install -r requirements.txt
    startCommand: python telegram_bot.py
    envVars:
      - key: TELEGRAM_BOT_TOKEN
        sync: false
      - key: LLM_PROVIDER
        value: claude
      - key: CLAUDE_API_KEY
        sync: false
      - key: EMBEDDING_MODEL
        value: all-MiniLM-L6-v2
      - key: TOP_K_RESULTS
        value: 3
      - key: CORPUS_PATH
        value: ../6_CORPUS
      - key: PERSONALITY_PATH
        value: ../1_PROMPTS/clara_personality_master.yaml
      - key: VECTOR_DB_PATH
        value: ./chroma_db
      - key: MAX_RESPONSE_LENGTH
        value: 2000
      - key: LOOP_NAMING
        value: true
      - key: SCAR_INJECTION
        value: true
      - key: ENVIRONMENT
        value: production
